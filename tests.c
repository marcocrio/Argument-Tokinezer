#include <stdio.h>
#include <stdlib.h>
#include ".include/argtok.h"
#include <string.h>




int main(){

    char** tknv;
    char* tkn,*tmp;
    int tokenlenght=0,tokencnt=0,i=0;   

    printf("$ ");
    scanf("%m[^\n]",&tkn);

    while(tkn[i]!= '\0'){
        if(tkn[i]==' ')tokencnt++;
        i++;
    }
    i=0;
    tokencnt++;

    tknv=(char**)malloc(tokencnt*sizeof(char*));
    tmp= (char*)malloc(sizeof(char));

    //tmp[0]=tkn[0];

    //tmp=(char*)realloc(tmp,5*sizeof(char));

    //tmp[1]=tkn[1];
    tokencnt=0;
    i=0;

    
    while(tkn[i]!='\0'){   
       
        tmp=(char*)realloc(tmp,(tokenlenght+1)*sizeof(char));
        tmp[tokenlenght]=tkn[i];
        tokenlenght++;

        if(tkn[i]=' '){
            tokencnt++;
            tmp = tknv[tokencnt];
            tokenlenght=0;
        }

        i++;

    }
    printf("%d \n",(int)strlen(tmp)+1);
    //printf("\n");
   // printf("%s\n%d\n",tmp,tokencnt);

};